var imgDataPath="/blog/photos/photos.json",imgPath="https://cdn.jsdelivr.net/gh/Cenergy/images/gallery/",imgMaxNum=50,windowWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(windowWidth<768)var imageWidth=145;else imageWidth=250;const photo={page:1,offset:imgMaxNum,init:function(){var t=this;$.getJSON(imgDataPath,(function(a){t.render(t.page,a),t.eventListen(a)}))},constructHtml(t){const{imageWidth:a,imageX:i,imageY:e,name:n,imgPath:l,imgName:m,imgNameWithPattern:d}=t;return`<div class="card lozad" style="width:${a}px">\n                  <div class="ImageInCard" style="height:${a*e/i}px">\n                    <a data-fancybox="gallery" href="${l}${n}/${d}"\n                          data-caption="${m}" title="${m}">\n                            <img  class="lazyload" data-src="${l}${n}/${d}"\n                            src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="\n                            onload="lzld(this)"\n                            lazyload="auto">\n                        </a>\n                  </div>\n                </div>`},render:function(t,a=[]){if(this.data=a,!a.length)return;var i,e,n,l,m,d="";let o="",s="";a.forEach(((t,a)=>{o+=`<li class="nav-item" role="presentation">\n          <a class="nav-link ${0===a?"active":""} photo-tab" id="home-tab" photo-uuid="${t.name}" data-toggle="tab" href="#${t.name}"  role="tab" aria-controls="${t.name}" aria-selected="true">${t.name}</a>\n        </li>`}));const[r={}]=a,{children:g=[],name:h}=r;g.forEach(((t,a)=>{i=t.split(" ")[1],e=i.split(".")[0],n=t.split(" ")[0],l=n.split(".")[0],m=n.split(".")[1];let o={imageWidth:imageWidth,imageX:l,imageY:m,name:h,imgName:e,imgPath:imgPath,imgNameWithPattern:i};d+=this.constructHtml(o)})),s+=` <div class="tab-pane fade show active"  role="tabpanel" aria-labelledby="home-tab">${d}</div>`;const c=`<ul class="nav nav-pills mb-3 photo-tabs" id="pills-tab" role="tablist">${o}</ul><div id="helloTest"></div>`,p=`<div class="tab-content" id="myTabContent">${s}</div>`;$("#imageTab").append(c),$(".ImageGrid").append(p),this.minigrid()},eventListen:function(t){let a=this;var i,e,n,l,m;$('a[data-toggle="tab"]').on("shown.bs.tab",(function(d){$(".ImageGrid").empty();const o=$(d.target).attr("photo-uuid"),s=t.find((t=>t.name===o))||{},{children:r,name:g}=s;let h="";r.forEach(((t,d)=>{i=t.split(" ")[1],e=i.split(".")[0],n=t.split(" ")[0],l=n.split(".")[0],m=n.split(".")[1];let o={imageWidth:imageWidth,imageX:l,imageY:m,name:g,imgName:e,imgPath:imgPath,imgNameWithPattern:i};h+=a.constructHtml(o)})),$(".ImageGrid").append(h),a.minigrid()}))},minigrid:function(){var t=new Minigrid({container:".ImageGrid",item:".card",gutter:12});t.mount(),$(window).resize((function(){t.mount()}))}};photo.init();