var preFunction="\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\n#define PI 3.14159265359\n\nuniform vec2 u_resolution;\nuniform vec2 u_mouse;\nuniform float u_time;\n\nfloat lineJitter = 0.5;\nfloat lineWidth = 7.0;\nfloat gridWidth = 1.7;\nfloat scale = 0.0013;\nfloat zoom = 2.5;\nvec2 offset = vec2(0.5);\n\nfloat rand (in float _x) {\n    return fract(sin(_x)*1e4);\n}\n\nfloat rand (in vec2 co) {\n    return fract(sin(dot(co.xy,vec2(12.9898,78.233)))*43758.5453);\n}\n\nfloat noise (in float _x) {\n    float i = floor(_x);\n    float f = fract(_x);\n    float u = f * f * (3.0 - 2.0 * f);\n    return mix(rand(i), rand(i + 1.0), u);\n}\n\nfloat noise (in vec2 _st) {\n    vec2 i = floor(_st);\n    vec2 f = fract(_st);\n    // Four corners in 2D of a tile\n    float a = rand(i);\n    float b = rand(i + vec2(1.0, 0.0));\n    float c = rand(i + vec2(0.0, 1.0));\n    float d = rand(i + vec2(1.0, 1.0));\n    vec2 u = f * f * (3.0 - 2.0 * f);\n    return mix(a, b, u.x) + \n            (c - a)* u.y * (1.0 - u.x) + \n            (d - b) * u.x * u.y;\n}\n\nfloat function(in float x) {\n    float y = 0.0;\n",postFunction="\n    return y;\n}\n\nvec3 plot2D(in vec2 _st, in float _width ) {\n    const float samples = 3.0;\n\n    vec2 steping = _width*vec2(scale)/samples;\n    \n    float count = 0.0;\n    float mySamples = 0.0;\n    for (float i = 0.0; i < samples; i++) {\n        for (float j = 0.0;j < samples; j++) {\n            if (i*i+j*j>samples*samples) \n                continue;\n            mySamples++;\n            float ii = i + lineJitter*rand(vec2(_st.x+ i*steping.x,_st.y+ j*steping.y));\n            float jj = j + lineJitter*rand(vec2(_st.y + i*steping.x,_st.x+ j*steping.y));\n            float f = function(_st.x+ ii*steping.x)-(_st.y+ jj*steping.y);\n            count += (f>0.) ? 1.0 : -1.0;\n        }\n    }\n    vec3 color = vec3(1.0);\n    if (abs(count)!=mySamples)\n        color = vec3(abs(float(count))/float(mySamples));\n    return color;\n}\n\nvec3 grid2D( in vec2 _st, in float _width ) {\n    float axisDetail = _width*scale;\n    if (abs(_st.x)<axisDetail || abs(_st.y)<axisDetail) \n        return 1.0-vec3(0.65,0.65,1.0);\n    if (abs(mod(_st.x,1.0))<axisDetail || abs(mod(_st.y,1.0))<axisDetail) \n        return 1.0-vec3(0.80,0.80,1.0);\n    if (abs(mod(_st.x,0.25))<axisDetail || abs(mod(_st.y,0.25))<axisDetail) \n        return 1.0-vec3(0.95,0.95,1.0);\n    return vec3(0.0);\n}\n\nvoid main(){\n    vec2 st = (gl_FragCoord.xy/u_resolution.xy)-offset;\n    st.x *= u_resolution.x/u_resolution.y;\n\n    scale *= zoom;\n    st *= zoom;\n\n    vec3 color = plot2D(st,lineWidth);\n    color -= grid2D(st,gridWidth);\n\n    gl_FragColor = vec4(color,1.0);\n}",glslCanvas=[],glslEditors=[],glslGraphs=[];function styleCodeBlocks(){for(var n=document.getElementsByTagName("code"),e=0;e<n.length;e++)"language-glsl"!=n[e].className&&"language-bash"!=n[e].className&&"language-cpp"!=n[e].className&&"language-html"!=n[e].className&&"language-processing"!=n[e].className||hljs.highlightBlock(n[e])}function loadGlslElements(){for(var n=document.getElementsByClassName("canvas"),e=0;e<n.length;e++)glslCanvas.push(new GlslCanvas(n[e]));var t=document.querySelectorAll(".codeAndCanvas");for(e=0;e<t.length;e++)if(t[e].hasAttribute("data")){var a=t[e].getAttribute("data"),o=new GlslEditor(t[e],{canvas_size:250,canvas_follow:!0,canvas_float:"right",tooltips:!0,exportIcon:!0});o.open(a),glslEditors.push(o)}var l=document.querySelectorAll(".simpleFunction");for(e=0;e<l.length;e++)if(l[e].hasAttribute("data")){a=l[e].getAttribute("data");glslGraphs.push(new GlslEditor(l[e],{canvas_width:800,lineNumbers:!1,canvas_height:250,canvas_follow:!0,canvas_float:!1,frag_header:preFunction,frag_footer:postFunction,tooltips:!0}).open(a))}}function insertAfter(n,e){var t=e.parentNode;t.lastChild==e?t.appendChild(n):t.insertBefore(n,e.nextSibling)}function captionizeImages(){if(!document.getElementsByTagName)return!1;if(!document.createElement)return!1;var n=document.getElementsByTagName("img");if(n.length<1)return!1;for(var e=0;e<n.length;e++){var t=n[e].getAttribute("alt");if(t&&""!==t){var a=document.createElement("div");a.className="caption";var o=document.createTextNode(t);a.appendChild(o);var l=document.createElement("div");l.className="imgcontainer",n[e].parentNode.insertBefore(l,n[e]),l.appendChild(n[e]),insertAfter(a,n[e])}}}function FormatNumberLength(n,e){for(var t=""+n;t.length<e;)t="0"+t;return t}function checkUrl(n){var e=!1;return window.XMLHttpRequest?e=new XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHttp")),!(!e||(e.open("GET",n),200!=e.status))}function getParameterByName(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+n+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}function previusPage(){var n,e=window.location.pathname,t=parseInt(e.match(/[0-1].(?!.*[0-1])/)[0]);n=(t-=1)<0?"../":"../"+FormatNumberLength(t,2)+"/";var a=getParameterByName("lan");""!==a&&(n+="?lan="+a),window.location.href=n}function homePage(){window.location.href="../"}function nextPage(){var n=window.location.pathname,e=parseInt(n.match(/[0-1].(?!.*[0-1])/)[0]),t="../"+FormatNumberLength(e+=1,2)+"/",a=getParameterByName("lan");""!==a&&(t+="?lan="+a),window.location.href=t}window.addEventListener("load",(function(){styleCodeBlocks(),loadGlslElements()}));